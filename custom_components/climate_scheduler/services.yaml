set_schedule:
  name: Set climate schedule
  description: Configure temperature schedule for a climate entity
  fields:
    schedule_id:
      description: Climate entity ID to control
      required: true
      example: "climate.living_room"
      selector:
        text:
    nodes:
      description: List of schedule nodes with time and temperature
      required: true
      example: '[{"time": "07:00", "temp": 21}, {"time": "23:00", "temp": 18}]'
    day:
      description: Day of week for this schedule (all_days, mon, tue, wed, thu, fri, sat, sun, weekday, weekend)
      required: false
      default: "all_days"
      example: "mon"
      selector:
        text:
    schedule_mode:
      description: Schedule mode (all_days, 5/2, individual)
      required: false
      default: "all_days"
      example: "individual"
      selector:
        text:

get_schedule:
  name: Get climate schedule
  description: Retrieve the current schedule for a climate entity
  fields:
    schedule_id:
      description: Climate entity ID to get schedule for
      required: true
      example: "climate.living_room"
      selector:
        text:

clear_schedule:
  name: Clear climate schedule
  description: Remove the schedule for a climate entity
  fields:
    schedule_id:
      description: Climate entity ID to clear schedule for
      required: true
      example: "climate.living_room"
      selector:
        text:

enable_schedule:
  name: Enable climate schedule
  description: Enable automatic scheduling for a climate entity
  fields:
    schedule_id:
      description: Climate entity ID to enable
      required: true
      example: "climate.living_room"
      selector:
        text:

disable_schedule:
  name: Disable climate schedule
  description: Disable automatic scheduling for a climate entity
  fields:
    schedule_id:
      description: Climate entity ID to disable
      required: true
      example: "climate.living_room"
      selector:
        text:

create_group:
  name: Create thermostat group
  description: Create a new group to share schedules between multiple thermostats
  fields:
    group_name:
      description: Name for the new group
      required: true
      example: "Bedrooms"
      selector:
        text:

delete_group:
  name: Delete thermostat group
  description: Delete a thermostat group
  fields:
    group_name:
      description: Name of the group to delete
      required: true
      example: "Bedrooms"
      selector:
        text:

rename_group:
  name: Rename thermostat group
  description: Rename a thermostat group
  fields:
    old_name:
      description: Current name of the group
      required: true
      example: "Bedrooms"
      selector:
        text:
    new_name:
      description: New name for the group
      required: true
      example: "Upstairs Bedrooms"
      selector:
        text:

add_to_group:
  name: Add thermostat to group
  description: Add a climate entity to a group
  fields:
    group_name:
      description: Name of the group
      required: true
      example: "Bedrooms"
      selector:
        text:
    entity_id:
      description: Climate entity to add to the group
      required: true
      example: "climate.bedroom_1"
      selector:
        entity:
          domain: climate

remove_from_group:
  name: Remove thermostat from group
  description: Remove a climate entity from a group
  fields:
    group_name:
      description: Name of the group
      required: true
      example: "Bedrooms"
      selector:
        text:
    entity_id:
      description: Climate entity to remove from the group
      required: true
      example: "climate.bedroom_1"
      selector:
        entity:
          domain: climate

get_groups:
  name: Get all groups
  description: Retrieve all thermostat groups

set_group_schedule:
  name: Set group schedule
  description: Set schedule for all thermostats in a group
  fields:
    group_name:
      description: Name of the group
      required: true
      example: "Bedrooms"
      selector:
        text:
    nodes:
      description: List of schedule nodes with time and temperature
      required: true
      example: '[{"time": "07:00", "temp": 21}, {"time": "23:00", "temp": 18}]'
    day:
      description: Day of week for this schedule (all_days, mon, tue, wed, thu, fri, sat, sun, weekday, weekend)
      required: false
      default: "all_days"
      example: "mon"
      selector:
        text:
    schedule_mode:
      description: Schedule mode (all_days, 5/2, individual)
      required: false
      default: "all_days"
      example: "individual"
      selector:
        text:

sync_all:
  name: Sync all thermostats
  description: Force synchronization of all enabled thermostats with their schedules

enable_group:
  name: Enable group schedule
  description: Enable automatic scheduling for all thermostats in a group
  fields:
    group_name:
      description: Name of the group to enable
      required: true
      example: "Bedrooms"
      selector:
        text:

disable_group:
  name: Disable group schedule
  description: Disable automatic scheduling for all thermostats in a group
  fields:
    group_name:
      description: Name of the group to disable
      required: true
      example: "Bedrooms"
      selector:
        text:

get_settings:
  name: Get settings
  description: Retrieve global integration settings (min/max temp, default schedule, etc.)

save_settings:
  name: Save settings
  description: Save global integration settings
  fields:
    settings:
      description: Settings object with min_temp, max_temp, defaultSchedule, tooltipMode, etc.
      required: true
      example: '{"min_temp": 10, "max_temp": 30}'

set_ignored:
  name: Set entity ignored status
  description: Mark an entity as ignored (not monitored) or un-ignore it
  fields:
    schedule_id:
      description: Climate entity ID to set ignored status for
      required: true
      example: "climate.living_room"
      selector:
        text:
    ignored:
      description: Whether to ignore this entity (true) or monitor it (false)
      required: true
      example: true
      selector:
        boolean:

reload_integration:
  name: Reload integration (Dev)
  description: Reload the Climate Scheduler integration (development only)

advance_schedule:
  name: Advance to next scheduled node
  description: Manually advance a climate entity to its next scheduled temperature and settings, even if the scheduled time hasn't arrived yet
  fields:
    schedule_id:
      description: Climate entity ID to advance to next scheduled node
      required: true
      example: "climate.living_room"
      selector:
        text:

advance_group:
  name: Advance group to next scheduled node
  description: Manually advance all climate entities in a group to their next scheduled temperature and settings, even if the scheduled time hasn't arrived yet
  fields:
    group_name:
      description: Name of the group to advance
      required: true
      example: "Bedrooms"
      selector:
        text:

cancel_advance:
  name: Cancel advance override
  description: Cancel an active advance override and return the climate entity to its current scheduled settings
  fields:
    schedule_id:
      description: Climate entity ID to cancel advance for
      required: true
      example: "climate.living_room"
      selector:
        text:

clear_advance_history:
  name: Clear advance history
  description: Clear all advance history markers for a climate entity
  fields:
    schedule_id:
      description: Climate entity ID to clear history for
      required: true
      example: "climate.living_room"
      selector:
        text:

get_override_status:
  name: Get override status
  description: Check if a climate entity has an active advance override
  fields:
    schedule_id:
      description: Climate entity ID to check
      required: true
      example: "climate.living_room"
      selector:
        text:

create_profile:
  name: Create schedule profile
  description: Create a new schedule profile
  fields:
    schedule_id:
      description: Schedule name to create profile for
      required: true
      example: "living_room"
      selector:
        text:
    profile_name:
      description: Name for the new profile
      required: true
      example: "Winter Schedule"
      selector:
        text:

delete_profile:
  name: Delete schedule profile
  description: Delete a schedule profile
  fields:
    schedule_id:
      description: Schedule name to delete profile from
      required: true
      example: "living_room"
      selector:
        text:
    profile_name:
      description: Name of the profile to delete
      required: true
      example: "Winter Schedule"
      selector:
        text:

rename_profile:
  name: Rename schedule profile
  description: Rename a schedule profile
  fields:
    schedule_id:
      description: Schedule name to rename profile for
      required: true
      example: "living_room"
      selector:
        text:
    old_name:
      description: Current name of the profile
      required: true
      example: "Winter Schedule"
      selector:
        text:
    new_name:
      description: New name for the profile
      required: true
      example: "Cold Weather Schedule"
      selector:
        text:

set_active_profile:
  name: Set active schedule profile
  description: Switch to a different schedule profile
  fields:
    schedule_id:
      description: Schedule name
      required: true
      example: "living_room"
      selector:
        text:
    profile_name:
      description: Name of the profile to activate
      required: true
      example: "Winter Schedule"
      selector:
        text:

get_profiles:
  name: Get schedule profiles
  description: Get list of all available profiles
  fields:
    schedule_id:
      description: Schedule name
      required: true
      example: "living_room"
      selector:
        text:

cleanup_derivative_sensors:
  name: Cleanup derivative sensors
  description: Remove orphaned derivative sensors for entities that no longer exist
  fields:
    confirm_delete_all:
      description: Confirm deletion of all derivative sensors
      required: false
      default: false
      example: false
      selector:
        boolean:

factory_reset:
  name: Factory Reset
  description: Reset all Climate Scheduler data to freshly installed state. WARNING - This will delete all schedules, groups, profiles, and settings permanently.
  fields:
    confirm:
      description: Must be set to true to confirm the factory reset
      required: true
      example: true
      selector:
        boolean:

get_performance_stats:
  name: Get performance statistics
  description: Retrieve heating/cooling performance statistics for climate entities
  fields:
    entity_id:
      description: Climate entity ID to get stats for (leave empty for all entities)
      required: false
      example: "climate.living_room"
      selector:
        entity:
          domain: climate

get_performance_sessions:
  name: Get performance sessions
  description: Query performance tracking sessions with optional filters
  fields:
    entity_id:
      description: Climate entity ID to filter by
      required: false
      example: "climate.living_room"
      selector:
        entity:
          domain: climate
    session_type:
      description: Filter by session type
      required: false
      example: "heating"
      selector:
        select:
          options:
            - "heating"
            - "cooling"
    start_date:
      description: Filter sessions starting from this date (YYYY-MM-DD)
      required: false
      example: "2024-01-01"
      selector:
        text:
    end_date:
      description: Filter sessions ending before this date (YYYY-MM-DD)
      required: false
      example: "2024-12-31"
      selector:
        text:
    day_of_week:
      description: Filter by day of week
      required: false
      example: "monday"
      selector:
        select:
          options:
            - "monday"
            - "tuesday"
            - "wednesday"
            - "thursday"
            - "friday"
            - "saturday"
            - "sunday"
    time_category:
      description: Filter by time of day
      required: false
      example: "morning"
      selector:
        select:
          options:
            - "night"
            - "morning"
            - "afternoon"
            - "evening"
    season:
      description: Filter by season
      required: false
      example: "winter"
      selector:
        select:
          options:
            - "winter"
            - "spring"
            - "summer"
            - "fall"
    profile_name:
      description: Filter by active profile name
      required: false
      example: "Winter Schedule"
      selector:
        text:
    completed_only:
      description: Only return completed sessions (exclude interrupted)
      required: false
      default: true
      example: true
      selector:
        boolean:

save_performance_settings:
  name: Save performance tracking settings
  description: Enable/disable performance tracking and configure outdoor temperature sensor
  fields:
    enabled:
      description: Enable or disable performance tracking
      required: true
      example: true
      selector:
        boolean:
    outdoor_sensor:
      description: Outdoor temperature sensor entity ID
      required: false
      example: "sensor.outdoor_temperature"
      selector:
        entity:
          domain: sensor
          device_class: temperature

reset_performance_history:
  name: Reset performance history
  description: Clear performance tracking history for one or all entities
  fields:
    entity_id:
      description: Climate entity ID to clear history for (leave empty for all entities)
      required: false
      example: "climate.living_room"
      selector:
        entity:
          domain: climate
    months:
      description: List of specific months to delete (YYYY_MM format, leave empty for all)
      required: false
      example: '["2024_01", "2024_02"]'

recalculate_performance_stats:
  name: Recalculate performance statistics
  description: Recalculate aggregate statistics from raw session data
  fields:
    entity_id:
      description: Climate entity ID to recalculate for (leave empty for all entities)
      required: false
      example: "climate.living_room"
      selector:
        entity:
          domain: climate

export_performance_data:
  name: Export performance data
  description: Export performance sessions and statistics to JSON format
  fields:
    entity_id:
      description: Climate entity ID to export data for
      required: false
      example: "climate.living_room"
      selector:
        entity:
          domain: climate
    start_date:
      description: Export sessions starting from this date (YYYY-MM-DD)
      required: false
      example: "2024-01-01"
      selector:
        text:
    end_date:
      description: Export sessions ending before this date (YYYY-MM-DD)
      required: false
      example: "2024-12-31"
      selector:
        text:
